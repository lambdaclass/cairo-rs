name: "Fuzzer"

on:
  schedule:
  # At the end of every day
  - cron: "0 0 * * *"

concurrency:
  group: ${{ github.head_ref || github.run_id }}
  cancel-in-progress: true

jobs:
  changelog:
    runs-on: [self-hosted, ubuntu]
    steps:
    - name: Checkout
      uses: actions/checkout@v3

    - name: Install dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y build-essential

    - name: Run fuzzer
        run: |
          cd fuzzer
          cargo hfuzz run fuzzer
